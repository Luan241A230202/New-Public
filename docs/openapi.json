{
  "openapi": "3.0.3",
  "info": {
    "title": "New-Public API",
    "version": "4.16.26",
    "description": "OpenAPI mô tả các endpoint quan trọng của backend New-Public (bao gồm /api/external, /api/me, /api/admin).\n"
  },
  "servers": [
    {
      "url": "https://your-domain.example.com",
      "description": "Production"
    },
    {
      "url": "http://localhost:3000",
      "description": "Local dev"
    }
  ],
  "tags": [
    {
      "name": "External Auth"
    },
    {
      "name": "External Public"
    },
    {
      "name": "External Me"
    },
    {
      "name": "External Stars"
    },
    {
      "name": "External NFT"
    },
    {
      "name": "External WalletScan"
    },
    {
      "name": "Playlists"
    },
    {
      "name": "Upload"
    },
    {
      "name": "Comments"
    },
    {
      "name": "Stars"
    },
    {
      "name": "NFT"
    },
    {
      "name": "Me"
    },
    {
      "name": "Admin"
    },
    {
      "name": "Admin Payments"
    },
    {
      "name": "Admin Storage"
    },
    {
      "name": "Admin Videos"
    },
    {
      "name": "Admin Moderation"
    },
    {
      "name": "External"
    },
    {
      "name": "Public"
    }
  ],
  "components": {
    "securitySchemes": {
      "ApiKey": {
        "type": "apiKey",
        "in": "header",
        "name": "X-API-Key"
      },
      "BearerAuth": {
        "type": "http",
        "scheme": "bearer"
      },
      "CookieAuth": {
        "type": "apiKey",
        "in": "cookie",
        "name": "external_auth"
      }
    },
    "schemas": {
      "ApiError": {
        "type": "object",
        "properties": {
          "error": {
            "type": "string"
          },
          "message": {
            "type": "string"
          }
        }
      },
      "ExternalLoginRequest": {
        "type": "object",
        "required": [
          "email",
          "password"
        ],
        "properties": {
          "email": {
            "type": "string",
            "example": "user@example.com"
          },
          "password": {
            "type": "string",
            "example": "secret123"
          }
        }
      },
      "ExternalLoginResponse": {
        "type": "object",
        "properties": {
          "access_token": {
            "type": "string"
          },
          "user": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "email": {
                "type": "string"
              }
            }
          }
        }
      },
      "ExternalRegisterRequest": {
        "type": "object",
        "required": [
          "email",
          "password",
          "name"
        ],
        "properties": {
          "email": {
            "type": "string"
          },
          "password": {
            "type": "string"
          },
          "name": {
            "type": "string"
          }
        }
      },
      "ExternalVideo": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "title": {
            "type": "string"
          },
          "slug": {
            "type": "string"
          },
          "thumbnail": {
            "type": "string"
          },
          "creator": {
            "type": "object",
            "properties": {
              "id": {
                "type": "string"
              },
              "name": {
                "type": "string"
              }
            }
          }
        }
      },
      "ExternalSearchResponse": {
        "type": "object",
        "properties": {
          "videos": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/ExternalVideo"
            }
          }
        }
      },
      "StarsTopupIntentRequest": {
        "type": "object",
        "required": [
          "amount",
          "chain",
          "token"
        ],
        "properties": {
          "amount": {
            "type": "number",
            "example": 25
          },
          "chain": {
            "type": "string",
            "example": "solana"
          },
          "token": {
            "type": "string",
            "example": "usdt"
          }
        }
      },
      "StarsTopupIntentResponse": {
        "type": "object",
        "properties": {
          "depositId": {
            "type": "string"
          },
          "memo": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "token": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          }
        }
      },
      "StarsTopupHistoryItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "amount": {
            "type": "number"
          },
          "token": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "memo": {
            "type": "string"
          }
        }
      },
      "StarsTopupHistoryResponse": {
        "type": "object",
        "properties": {
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/StarsTopupHistoryItem"
            }
          }
        }
      },
      "WalletScanQuery": {
        "type": "object",
        "properties": {
          "username": {
            "type": "string"
          },
          "userId": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "txHash": {
            "type": "string"
          },
          "contractAddress": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "page": {
            "type": "integer"
          },
          "take": {
            "type": "integer"
          },
          "includePrivate": {
            "type": "boolean"
          }
        }
      },
      "WalletScanHitUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "starBalance": {
            "type": "integer"
          }
        }
      },
      "WalletScanHitAddress": {
        "type": "object",
        "properties": {
          "walletId": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "address": {
            "type": "string"
          }
        }
      },
      "WalletScanHitTx": {
        "type": "object",
        "properties": {
          "txHash": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "token": {
            "type": "string"
          }
        }
      },
      "WalletScanHitContract": {
        "type": "object",
        "properties": {
          "chain": {
            "type": "string"
          },
          "contractAddress": {
            "type": "string"
          },
          "count": {
            "type": "integer"
          }
        }
      },
      "WalletScanHits": {
        "type": "object",
        "properties": {
          "userHits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanHitUser"
            }
          },
          "addressHits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanHitAddress"
            }
          },
          "txHits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanHitTx"
            }
          },
          "contractHits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanHitContract"
            }
          }
        }
      },
      "WalletScanUser": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "username": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "email": {
            "type": "string"
          },
          "starBalance": {
            "type": "integer"
          }
        }
      },
      "WalletScanWallet": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "address": {
            "type": "string"
          },
          "verifiedAt": {
            "type": "string",
            "format": "date-time"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WalletScanLedgerItem": {
        "type": "object",
        "properties": {
          "kind": {
            "type": "string"
          },
          "id": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "chain": {
            "type": "string"
          },
          "token": {
            "type": "string"
          },
          "amount": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "txHash": {
            "type": "string"
          },
          "memo": {
            "type": "string"
          },
          "tokenIdHex": {
            "type": "string"
          },
          "type": {
            "type": "string"
          }
        }
      },
      "WalletScanDeposit": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "expectedAmount": {
            "type": "string"
          },
          "actualAmount": {
            "type": "string"
          },
          "memo": {
            "type": "string"
          },
          "txHash": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WalletScanStarTx": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "type": {
            "type": "string"
          },
          "delta": {
            "type": "integer"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WalletScanNftExport": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "status": {
            "type": "string"
          },
          "contractAddress": {
            "type": "string"
          },
          "tokenIdHex": {
            "type": "string"
          },
          "txHash": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WalletScanAsset": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "chain": {
            "type": "string"
          },
          "assetKey": {
            "type": "string"
          },
          "kind": {
            "type": "string"
          },
          "balance": {
            "type": "integer"
          },
          "lastSyncAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WalletScanResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "query": {
            "$ref": "#/components/schemas/WalletScanQuery"
          },
          "hits": {
            "$ref": "#/components/schemas/WalletScanHits"
          },
          "user": {
            "$ref": "#/components/schemas/WalletScanUser"
          },
          "wallets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanWallet"
            }
          },
          "ledger": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanLedgerItem"
            }
          },
          "deposits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanDeposit"
            }
          },
          "starTransactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanStarTx"
            }
          },
          "nftItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftItem"
            }
          },
          "nftListings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftListing"
            }
          },
          "nftAuctions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftAuction"
            }
          },
          "nftSales": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftSale"
            }
          },
          "nftEventLogs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftEventLog"
            }
          },
          "nftExports": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftExport"
            }
          },
          "walletAssets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanAsset"
            }
          },
          "payoutLedger": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanLedgerItem"
            }
          },
          "page": {
            "type": "integer"
          },
          "take": {
            "type": "integer"
          }
        }
      },
      "WalletScanContractsResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "items": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanHitContract"
            }
          }
        }
      },
      "WalletScanContractResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "chain": {
            "type": "string"
          },
          "contractAddress": {
            "type": "string"
          },
          "exports": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftExport"
            }
          }
        }
      },
      "WalletScanAssetsResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "user": {
            "$ref": "#/components/schemas/WalletScanUser"
          },
          "chain": {
            "type": "string"
          },
          "contractAddress": {
            "type": "string"
          },
          "wallets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanWallet"
            }
          },
          "assets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanAsset"
            }
          }
        }
      },
      "WalletScanWalletsResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "user": {
            "$ref": "#/components/schemas/WalletScanUser"
          },
          "chain": {
            "type": "string"
          },
          "wallets": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanWallet"
            }
          }
        }
      },
      "WalletScanLedgerResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "user": {
            "$ref": "#/components/schemas/WalletScanUser"
          },
          "chain": {
            "type": "string"
          },
          "ledger": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanLedgerItem"
            }
          },
          "deposits": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanDeposit"
            }
          },
          "starTransactions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanStarTx"
            }
          },
          "payoutLedger": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanLedgerItem"
            }
          },
          "page": {
            "type": "integer"
          },
          "take": {
            "type": "integer"
          }
        }
      },
      "WalletScanNftsResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          },
          "user": {
            "$ref": "#/components/schemas/WalletScanUser"
          },
          "chain": {
            "type": "string"
          },
          "nftItems": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftItem"
            }
          },
          "nftListings": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftListing"
            }
          },
          "nftAuctions": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftAuction"
            }
          },
          "nftSales": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftSale"
            }
          },
          "nftEventLogs": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftEventLog"
            }
          },
          "nftExports": {
            "type": "array",
            "items": {
              "$ref": "#/components/schemas/WalletScanNftExport"
            }
          },
          "page": {
            "type": "integer"
          },
          "take": {
            "type": "integer"
          }
        }
      },
      "WalletScanNftItem": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "name": {
            "type": "string"
          },
          "ownerId": {
            "type": "string"
          },
          "collectionId": {
            "type": "string"
          },
          "exportStatus": {
            "type": "string"
          },
          "exportChain": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WalletScanNftListing": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "sellerId": {
            "type": "string"
          },
          "priceStars": {
            "type": "integer"
          },
          "status": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "soldAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          },
          "cancelledAt": {
            "type": "string",
            "format": "date-time",
            "nullable": true
          }
        }
      },
      "WalletScanNftAuction": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "sellerId": {
            "type": "string"
          },
          "startPriceStars": {
            "type": "integer"
          },
          "reservePriceStars": {
            "type": "integer",
            "nullable": true
          },
          "startAt": {
            "type": "string",
            "format": "date-time"
          },
          "endAt": {
            "type": "string",
            "format": "date-time"
          },
          "status": {
            "type": "string"
          },
          "highestBidId": {
            "type": "string",
            "nullable": true
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "updatedAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "WalletScanNftSale": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          },
          "buyerId": {
            "type": "string"
          },
          "sellerId": {
            "type": "string"
          },
          "priceStars": {
            "type": "integer"
          },
          "platformFeeStars": {
            "type": "integer"
          },
          "royaltyStars": {
            "type": "integer"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          },
          "listingId": {
            "type": "string",
            "nullable": true
          },
          "auctionId": {
            "type": "string",
            "nullable": true
          }
        }
      },
      "WalletScanNftEventLog": {
        "type": "object",
        "properties": {
          "id": {
            "type": "string"
          },
          "action": {
            "type": "string"
          },
          "dataJson": {
            "type": "string"
          },
          "createdAt": {
            "type": "string",
            "format": "date-time"
          }
        }
      },
      "OkResponse": {
        "type": "object",
        "properties": {
          "ok": {
            "type": "boolean"
          }
        }
      },
      "PlaylistCreateRequest": {
        "type": "object",
        "required": [
          "title"
        ],
        "properties": {
          "title": {
            "type": "string",
            "example": "Watch Later"
          },
          "description": {
            "type": "string"
          },
          "visibility": {
            "type": "string",
            "example": "PRIVATE"
          }
        }
      },
      "PlaylistUpdateRequest": {
        "type": "object",
        "properties": {
          "title": {
            "type": "string"
          },
          "description": {
            "type": "string"
          },
          "visibility": {
            "type": "string",
            "example": "PUBLIC"
          },
          "isSeries": {
            "type": "boolean"
          },
          "seriesSlug": {
            "type": "string"
          }
        }
      },
      "UploadInitRequest": {
        "type": "object",
        "required": [
          "filename",
          "size",
          "mime"
        ],
        "properties": {
          "filename": {
            "type": "string",
            "example": "video.mp4"
          },
          "size": {
            "type": "integer",
            "example": 10485760
          },
          "mime": {
            "type": "string",
            "example": "video/mp4"
          }
        }
      },
      "UploadInitResponse": {
        "type": "object",
        "properties": {
          "uploadId": {
            "type": "string"
          },
          "key": {
            "type": "string"
          },
          "parts": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "partNumber": {
                  "type": "integer"
                },
                "url": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "CommentCreateRequest": {
        "type": "object",
        "required": [
          "videoId",
          "body"
        ],
        "properties": {
          "videoId": {
            "type": "string"
          },
          "body": {
            "type": "string",
            "example": "Awesome video!"
          }
        }
      },
      "StarsSendRequest": {
        "type": "object",
        "required": [
          "receiverId",
          "amount"
        ],
        "properties": {
          "receiverId": {
            "type": "string"
          },
          "amount": {
            "type": "number",
            "example": 5
          },
          "note": {
            "type": "string"
          }
        }
      },
      "NftListingCreateRequest": {
        "type": "object",
        "required": [
          "nftId",
          "price"
        ],
        "properties": {
          "nftId": {
            "type": "string"
          },
          "price": {
            "type": "number"
          }
        }
      },
      "NftAuctionCreateRequest": {
        "type": "object",
        "required": [
          "itemId",
          "startPriceStars",
          "durationHours"
        ],
        "properties": {
          "itemId": {
            "type": "string"
          },
          "startPriceStars": {
            "type": "integer"
          },
          "reservePriceStars": {
            "type": "integer"
          },
          "durationHours": {
            "type": "integer"
          }
        }
      },
      "NftAuctionBidRequest": {
        "type": "object",
        "required": [
          "amountStars"
        ],
        "properties": {
          "amountStars": {
            "type": "integer"
          }
        }
      },
      "PlaylistItemRequest": {
        "type": "object",
        "required": [
          "videoId"
        ],
        "properties": {
          "videoId": {
            "type": "string"
          }
        }
      },
      "PlaylistItemRemoveRequest": {
        "type": "object",
        "properties": {
          "videoId": {
            "type": "string"
          },
          "itemId": {
            "type": "string"
          }
        }
      },
      "PlaylistReorderRequest": {
        "type": "object",
        "required": [
          "itemIds"
        ],
        "properties": {
          "itemIds": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      },
      "CommentModerateRequest": {
        "type": "object",
        "required": [
          "commentId",
          "action"
        ],
        "properties": {
          "commentId": {
            "type": "string"
          },
          "action": {
            "type": "string",
            "example": "HIDE"
          }
        }
      },
      "CommentReportRequest": {
        "type": "object",
        "required": [
          "commentId"
        ],
        "properties": {
          "commentId": {
            "type": "string"
          },
          "reason": {
            "type": "string"
          }
        }
      },
      "UploadSignPartRequest": {
        "type": "object",
        "required": [
          "uploadId",
          "partNumber",
          "key"
        ],
        "properties": {
          "uploadId": {
            "type": "string"
          },
          "partNumber": {
            "type": "integer"
          },
          "key": {
            "type": "string"
          }
        }
      },
      "UploadCompleteRequest": {
        "type": "object",
        "required": [
          "uploadId",
          "key",
          "parts"
        ],
        "properties": {
          "uploadId": {
            "type": "string"
          },
          "key": {
            "type": "string"
          },
          "parts": {
            "type": "array",
            "items": {
              "type": "object",
              "properties": {
                "partNumber": {
                  "type": "integer"
                },
                "etag": {
                  "type": "string"
                }
              }
            }
          }
        }
      },
      "AdminApiKeyRequest": {
        "type": "object",
        "required": [
          "name",
          "scopes"
        ],
        "properties": {
          "name": {
            "type": "string"
          },
          "scopes": {
            "type": "array",
            "items": {
              "type": "string"
            }
          },
          "allowedOrigins": {
            "type": "array",
            "items": {
              "type": "string"
            }
          }
        }
      }
    }
  },
  "paths": {
    "/api/external/auth/login": {
      "post": {
        "tags": [
          "External Auth"
        ],
        "summary": "Đăng nhập (JWT + cookie)",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExternalLoginRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "Login thành công",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExternalLoginResponse"
                }
              }
            }
          },
          "401": {
            "description": "Sai thông tin đăng nhập",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ApiError"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/auth/login",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/auth/register": {
      "post": {
        "tags": [
          "External Auth"
        ],
        "summary": "Đăng ký tài khoản",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/ExternalRegisterRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Đăng ký thành công"
          },
          "400": {
            "description": "Lỗi dữ liệu đầu vào"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/auth/register",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/auth/me": {
      "get": {
        "tags": [
          "External Auth"
        ],
        "summary": "Lấy thông tin user hiện tại",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/auth/me",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/auth/logout": {
      "post": {
        "tags": [
          "External Auth"
        ],
        "summary": "Đăng xuất (xóa cookie)",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/auth/logout",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/public/videos": {
      "get": {
        "tags": [
          "External Public"
        ],
        "summary": "Danh sách video public",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "type": "object",
                  "properties": {
                    "videos": {
                      "type": "array",
                      "items": {
                        "$ref": "#/components/schemas/ExternalVideo"
                      }
                    }
                  }
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/public/videos",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/public/search": {
      "get": {
        "tags": [
          "External Public"
        ],
        "summary": "Tìm kiếm video",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "q",
            "schema": {
              "type": "string"
            },
            "required": true
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/ExternalSearchResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/public/search",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/me/notifications": {
      "get": {
        "tags": [
          "External Me"
        ],
        "summary": "Lấy danh sách thông báo",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/me/notifications",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/me/watch-later": {
      "get": {
        "tags": [
          "External Me"
        ],
        "summary": "Danh sách xem sau",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/me/watch-later",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/stars/topup/intent": {
      "post": {
        "tags": [
          "External Stars"
        ],
        "summary": "Tạo intent nạp sao (USDT/USDC)",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StarsTopupIntentRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StarsTopupIntentResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/stars/topup/intent",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/stars/topup/history": {
      "get": {
        "tags": [
          "External Stars"
        ],
        "summary": "Lịch sử nạp sao",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/StarsTopupHistoryResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/stars/topup/history",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/search": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Tra cứu ledger + on-chain theo user/tx/contract",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "username",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "address",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "txHash",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "contractAddress",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chain",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "take",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanResponse"
                },
                "example": {
                  "ok": true,
                  "query": {
                    "username": "demo",
                    "userId": null,
                    "address": null,
                    "txHash": null,
                    "contractAddress": null,
                    "chain": "SOLANA"
                  },
                  "user": {
                    "id": "usr_123",
                    "username": "demo",
                    "name": "Demo User",
                    "email": "demo@site.com",
                    "starBalance": 120
                  },
                  "wallets": [
                    {
                      "id": "wal_1",
                      "chain": "SOLANA",
                      "address": "Hx9...",
                      "verifiedAt": "2026-01-01T00:00:00Z",
                      "createdAt": "2026-01-01T00:00:00Z"
                    }
                  ],
                  "ledger": [
                    {
                      "kind": "STAR_TX",
                      "id": "stx_1",
                      "createdAt": "2026-01-01T01:00:00Z",
                      "chain": "OFFCHAIN",
                      "token": "STARS",
                      "amount": "5",
                      "status": "SETTLED",
                      "memo": "Tip",
                      "note": null,
                      "txHash": null
                    },
                    {
                      "kind": "DEPOSIT",
                      "id": "dep_1",
                      "createdAt": "2026-01-02T00:00:00Z",
                      "chain": "SOLANA",
                      "token": "USDT",
                      "amount": "25",
                      "status": "CONFIRMED",
                      "memo": "DEPOSIT:dep_1",
                      "txHash": 2748
                    }
                  ],
                  "deposits": [],
                  "starTransactions": [],
                  "nftItems": [],
                  "nftListings": [],
                  "nftAuctions": [],
                  "nftSales": [],
                  "nftEventLogs": [],
                  "nftExports": [],
                  "walletAssets": [],
                  "payoutLedger": [],
                  "page": 1,
                  "take": 40
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/search",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/tx/{hash}": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Tra cứu nhanh theo txHash",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "hash",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chain",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "includePrivate",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/tx/{hash}",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/user/{username}": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Tra cứu theo username",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "username",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chain",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "includePrivate",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "take",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/user/{username}",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/contracts": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Danh sách contract đã export",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanContractsResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/contracts",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/contract/{chain}/{address}": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Chi tiết contract export",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "chain",
            "required": true,
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "path",
            "name": "address",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanContractResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/contract/{chain}/{address}",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/wallets": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Danh sách ví theo user",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "username",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "address",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chain",
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanWalletsResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/wallets",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/assets": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Snapshot tài sản on-chain",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "username",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chain",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "contractAddress",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "take",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanAssetsResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/assets",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/nfts": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "NFT ledger snapshot",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "username",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chain",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "take",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanNftsResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/nfts",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ]
      }
    },
    "/api/external/wallet-scan/ledger": {
      "get": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "Ledger tổng hợp (stars + deposit + payout)",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "parameters": [
          {
            "in": "query",
            "name": "username",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "userId",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "chain",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "includePrivate",
            "schema": {
              "type": "string"
            }
          },
          {
            "in": "query",
            "name": "page",
            "schema": {
              "type": "integer"
            }
          },
          {
            "in": "query",
            "name": "take",
            "schema": {
              "type": "integer"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/WalletScanLedgerResponse"
                }
              }
            }
          }
        }
      },
      "options": {
        "tags": [
          "External WalletScan"
        ],
        "summary": "OPTIONS /api/external/wallet-scan/ledger",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          }
        ]
      }
    },
    "/api/external/nft/listings/create": {
      "post": {
        "tags": [
          "External NFT"
        ],
        "summary": "Tạo listing NFT",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/nft/listings/create",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/nft/listings/cancel": {
      "post": {
        "tags": [
          "External NFT"
        ],
        "summary": "Hủy listing NFT",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/nft/listings/cancel",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/nft/listings/buy": {
      "post": {
        "tags": [
          "External NFT"
        ],
        "summary": "Mua listing NFT",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "External"
        ],
        "summary": "OPTIONS /api/external/nft/listings/buy",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ]
      }
    },
    "/api/external/nft/auctions/create": {
      "post": {
        "tags": [
          "External NFT"
        ],
        "summary": "Tạo auction NFT",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NftAuctionCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/nft/auctions/{id}/bid": {
      "post": {
        "tags": [
          "External NFT"
        ],
        "summary": "Đặt bid auction NFT",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NftAuctionBidRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/nft/auctions/{id}/cancel": {
      "post": {
        "tags": [
          "External NFT"
        ],
        "summary": "Hủy auction NFT",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/nft/auctions/{id}/settle": {
      "post": {
        "tags": [
          "External NFT"
        ],
        "summary": "Chốt auction NFT",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/me/notifications": {
      "get": {
        "tags": [
          "Me"
        ],
        "summary": "Danh sách thông báo (Next auth cookie)",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/me/watch-later": {
      "get": {
        "tags": [
          "Me"
        ],
        "summary": "Danh sách xem sau",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/me/watch-later/toggle": {
      "post": {
        "tags": [
          "Me"
        ],
        "summary": "Bật/tắt xem sau",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/playlists": {
      "get": {
        "tags": [
          "Playlists"
        ],
        "summary": "Danh sách playlist của tôi",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Playlists"
        ],
        "summary": "Tạo playlist mới",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaylistCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/api/playlists/{id}": {
      "get": {
        "tags": [
          "Playlists"
        ],
        "summary": "Chi tiết playlist",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "patch": {
        "tags": [
          "Playlists"
        ],
        "summary": "Cập nhật playlist",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaylistUpdateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/playlists/{id}/items": {
      "post": {
        "tags": [
          "Playlists"
        ],
        "summary": "Thêm video vào playlist",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaylistItemRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      },
      "delete": {
        "tags": [
          "Playlists"
        ],
        "summary": "Xóa video khỏi playlist",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaylistItemRemoveRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/playlists/{id}/cover": {
      "post": {
        "tags": [
          "Playlists"
        ],
        "summary": "Cập nhật cover playlist",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "multipart/form-data": {
              "schema": {
                "type": "object",
                "properties": {
                  "file": {
                    "type": "string",
                    "format": "binary"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "delete": {
        "tags": [
          "Playlists"
        ],
        "summary": "Xóa cover playlist",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/playlists/{id}/reorder": {
      "post": {
        "tags": [
          "Playlists"
        ],
        "summary": "Sắp xếp lại playlist items",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/PlaylistReorderRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/upload/init": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "Khởi tạo upload video",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UploadInitRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK",
            "content": {
              "application/json": {
                "schema": {
                  "$ref": "#/components/schemas/UploadInitResponse"
                }
              }
            }
          }
        }
      }
    },
    "/api/upload/sign-part": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "Lấy URL ký part upload",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UploadSignPartRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/upload/complete": {
      "post": {
        "tags": [
          "Upload"
        ],
        "summary": "Hoàn tất upload video",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/UploadCompleteRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/comments": {
      "post": {
        "tags": [
          "Comments"
        ],
        "summary": "Tạo bình luận",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentCreateRequest"
              }
            }
          }
        },
        "responses": {
          "201": {
            "description": "Created"
          }
        }
      }
    },
    "/api/comments/moderate": {
      "post": {
        "tags": [
          "Comments"
        ],
        "summary": "Ẩn/hiện bình luận",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentModerateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/comments/report": {
      "post": {
        "tags": [
          "Comments"
        ],
        "summary": "Báo cáo bình luận",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/CommentReportRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/stars/send": {
      "post": {
        "tags": [
          "Stars"
        ],
        "summary": "Tặng sao (Super Thanks)",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/StarsSendRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/stars/balance": {
      "get": {
        "tags": [
          "Stars"
        ],
        "summary": "Số dư sao",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/stars/topup/intent": {
      "post": {
        "tags": [
          "Stars"
        ],
        "summary": "Tạo intent nạp sao",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/stars/topup/history": {
      "get": {
        "tags": [
          "Stars"
        ],
        "summary": "Lịch sử nạp sao",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/nft/listings/create": {
      "post": {
        "tags": [
          "NFT"
        ],
        "summary": "Tạo NFT listing",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NftListingCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/nft/listings/{id}/buy": {
      "post": {
        "tags": [
          "NFT"
        ],
        "summary": "Mua NFT listing",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/nft/auctions/create": {
      "post": {
        "tags": [
          "NFT"
        ],
        "summary": "Tạo auction NFT",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NftAuctionCreateRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/nft/auctions/{id}/bid": {
      "post": {
        "tags": [
          "NFT"
        ],
        "summary": "Đặt bid auction NFT",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/NftAuctionBidRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/nft/auctions/{id}/settle": {
      "post": {
        "tags": [
          "NFT"
        ],
        "summary": "Chốt auction NFT",
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/site-config": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Lấy cấu hình hệ thống",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Cập nhật cấu hình hệ thống",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/api-keys": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "Danh sách API keys",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "Tạo API key",
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "$ref": "#/components/schemas/AdminApiKeyRequest"
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/dashboard": {
      "get": {
        "tags": [
          "Admin Payments"
        ],
        "summary": "Dashboard payments",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/deposits/manual-credit": {
      "post": {
        "tags": [
          "Admin Payments"
        ],
        "summary": "Manual credit deposit",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/deposits/refund": {
      "post": {
        "tags": [
          "Admin Payments"
        ],
        "summary": "Refund deposit",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/fraud/alerts": {
      "get": {
        "tags": [
          "Admin Payments"
        ],
        "summary": "Danh sách fraud alerts",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/storage/config": {
      "get": {
        "tags": [
          "Admin Storage"
        ],
        "summary": "Lấy cấu hình storage",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin Storage"
        ],
        "summary": "Cập nhật cấu hình storage",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/videos/publish": {
      "post": {
        "tags": [
          "Admin Videos"
        ],
        "summary": "Publish video",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/videos/hide": {
      "post": {
        "tags": [
          "Admin Videos"
        ],
        "summary": "Ẩn video",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/videos/delete": {
      "post": {
        "tags": [
          "Admin Videos"
        ],
        "summary": "Xóa video",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/moderation/actions": {
      "post": {
        "tags": [
          "Admin Moderation"
        ],
        "summary": "Thao tác moderation",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/hls-config": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/hls-config",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/theme-presets": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/theme-presets",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/theme-presets",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/star-transactions": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/star-transactions",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/reports": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/reports",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/stars-adjust": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/stars-adjust",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/ad-placement": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/ad-placement",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/api-sources": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/api-sources",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/gifts": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/gifts",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/stars/export/ledger": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/stars/export/ledger",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/secrets": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/payments/secrets",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/secrets",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/coupons": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/payments/coupons",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/coupons",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/config": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/payments/config",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/config",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/bundles": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/payments/bundles",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/bundles",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/coupons/{id}": {
      "delete": {
        "tags": [
          "Admin"
        ],
        "summary": "DELETE /api/admin/payments/coupons/{id}",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/admin/payments/fraud/alerts/ack": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/fraud/alerts/ack",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/fraud/alerts/resolve": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/fraud/alerts/resolve",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/deposits/reconcile": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/deposits/reconcile",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/deposits/assign-user": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/payments/deposits/assign-user",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/export/events": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/payments/export/events",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/export/deposits": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/payments/export/deposits",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/payments/export/webhooks": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/payments/export/webhooks",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/videos/update-metadata": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/videos/update-metadata",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/videos/requeue": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/videos/requeue",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/storage/ftp/test-upload": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/storage/ftp/test-upload",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/storage/ftp/verify": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/storage/ftp/verify",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/storage/drive/verify": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/storage/drive/verify",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/subtitles/request": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/subtitles/request",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/reports/comments": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/reports/comments",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/nft/contracts": {
      "get": {
        "tags": [
          "Admin"
        ],
        "summary": "GET /api/admin/nft/contracts",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/nft/contracts",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/api-sources/sync": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/api-sources/sync",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/boost/plans": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/boost/plans",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/boost/orders": {
      "post": {
        "tags": [
          "Admin"
        ],
        "summary": "POST /api/admin/boost/orders",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/public/videos": {
      "get": {
        "tags": [
          "Public"
        ],
        "summary": "GET /api/public/videos",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "Public"
        ],
        "summary": "OPTIONS /api/public/videos",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/public/search": {
      "get": {
        "tags": [
          "Public"
        ],
        "summary": "GET /api/public/search",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "options": {
        "tags": [
          "Public"
        ],
        "summary": "OPTIONS /api/public/search",
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/public/video/{id}": {
      "get": {
        "tags": [
          "Public"
        ],
        "summary": "GET /api/public/video/{id}",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/external/referrals/me": {
      "get": {
        "tags": [
          "External Me"
        ],
        "summary": "Lấy referral code của user",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/referrals/claim": {
      "post": {
        "tags": [
          "External Me"
        ],
        "summary": "Nhập referral code",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "code": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/creator-stats/summary": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Tổng quan creator stats",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/creator-stats/revenue": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Doanh thu creator",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/creator-stats/top-fans": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Top fan của creator",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/moderation/ai/queue": {
      "get": {
        "tags": [
          "Admin Moderation"
        ],
        "summary": "Hàng chờ AI moderation",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/moderation/ai/{id}/decision": {
      "post": {
        "tags": [
          "Admin Moderation"
        ],
        "summary": "Quyết định AI moderation",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "action": {
                    "type": "string",
                    "example": "APPROVE"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/admin/moderation/ai/status": {
      "get": {
        "tags": [
          "Admin Moderation"
        ],
        "summary": "Trạng thái model AI moderation",
        "security": [
          {
            "ApiKey": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/payouts/methods": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Danh sách payout methods",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/payouts/request": {
      "post": {
        "tags": [
          "External"
        ],
        "summary": "Tạo payout request",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "amount": {
                    "type": "number"
                  },
                  "methodId": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/payouts/{id}": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Xem payout request",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/live/streams": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Danh sách live stream",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      },
      "post": {
        "tags": [
          "External"
        ],
        "summary": "Tạo live stream mới",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "title": {
                    "type": "string"
                  },
                  "description": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        }
      }
    },
    "/api/external/live/streams/{id}": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Trạng thái live stream",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/external/live/streams/{id}/start": {
      "post": {
        "tags": [
          "External"
        ],
        "summary": "Bắt đầu live stream",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/external/live/streams/{id}/stop": {
      "post": {
        "tags": [
          "External"
        ],
        "summary": "Kết thúc live stream",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    },
    "/api/external/live/streams/{id}/chat": {
      "get": {
        "tags": [
          "External"
        ],
        "summary": "Lịch sử chat live",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      },
      "post": {
        "tags": [
          "External"
        ],
        "summary": "Gửi chat live",
        "security": [
          {
            "ApiKey": []
          },
          {
            "CookieAuth": []
          },
          {
            "BearerAuth": []
          }
        ],
        "requestBody": {
          "required": true,
          "content": {
            "application/json": {
              "schema": {
                "type": "object",
                "properties": {
                  "message": {
                    "type": "string"
                  }
                }
              }
            }
          }
        },
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      },
      "options": {
        "tags": [
          "Public"
        ],
        "summary": "OPTIONS /api/public/video/{id}",
        "responses": {
          "200": {
            "description": "OK"
          }
        },
        "parameters": [
          {
            "in": "path",
            "name": "id",
            "required": true,
            "schema": {
              "type": "string"
            }
          }
        ]
      }
    }
  },
  "x-suggestedEndpoints": {
    "liveStreaming": {
      "summary": "Gợi ý endpoint cho module Live/Streaming",
      "routes": [
        {
          "path": "/api/external/live/streams",
          "method": "GET",
          "description": "Danh sách live đang diễn ra"
        },
        {
          "path": "/api/external/live/streams",
          "method": "POST",
          "description": "Tạo live stream mới (creator)"
        },
        {
          "path": "/api/external/live/streams/{id}",
          "method": "GET",
          "description": "Chi tiết live + trạng thái"
        },
        {
          "path": "/api/external/live/streams/{id}/start",
          "method": "POST",
          "description": "Bắt đầu live (server side)"
        },
        {
          "path": "/api/external/live/streams/{id}/stop",
          "method": "POST",
          "description": "Kết thúc live"
        },
        {
          "path": "/api/external/live/streams/{id}/chat",
          "method": "GET",
          "description": "Lịch sử chat/live reactions"
        },
        {
          "path": "/api/external/live/streams/{id}/chat",
          "method": "POST",
          "description": "Gửi chat/reaction"
        }
      ]
    },
    "moderationQueues": {
      "summary": "Gợi ý endpoint cho module Moderation Queue",
      "routes": [
        {
          "path": "/api/admin/moderation/queue",
          "method": "GET",
          "description": "Lấy danh sách item chờ duyệt"
        },
        {
          "path": "/api/admin/moderation/queue/{id}/approve",
          "method": "POST",
          "description": "Duyệt nội dung"
        },
        {
          "path": "/api/admin/moderation/queue/{id}/reject",
          "method": "POST",
          "description": "Từ chối nội dung + lý do"
        },
        {
          "path": "/api/admin/moderation/appeals",
          "method": "GET",
          "description": "Danh sách khiếu nại"
        }
      ]
    },
    "webhooks": {
      "summary": "Gợi ý endpoint cho module Webhook system",
      "routes": [
        {
          "path": "/api/admin/webhooks",
          "method": "GET",
          "description": "Danh sách webhook đăng ký"
        },
        {
          "path": "/api/admin/webhooks",
          "method": "POST",
          "description": "Tạo webhook mới"
        },
        {
          "path": "/api/admin/webhooks/{id}",
          "method": "PATCH",
          "description": "Cập nhật webhook"
        },
        {
          "path": "/api/admin/webhooks/{id}/test",
          "method": "POST",
          "description": "Gửi thử webhook"
        }
      ]
    },
    "analytics": {
      "summary": "Gợi ý endpoint cho module Analytics",
      "routes": [
        {
          "path": "/api/admin/analytics/overview",
          "method": "GET",
          "description": "Tổng quan analytics (views, watchtime, revenue)"
        },
        {
          "path": "/api/admin/analytics/videos",
          "method": "GET",
          "description": "Báo cáo theo video"
        },
        {
          "path": "/api/admin/analytics/creators",
          "method": "GET",
          "description": "Báo cáo theo creator"
        },
        {
          "path": "/api/admin/analytics/exports",
          "method": "POST",
          "description": "Xuất báo cáo analytics"
        }
      ]
    }
  }
}